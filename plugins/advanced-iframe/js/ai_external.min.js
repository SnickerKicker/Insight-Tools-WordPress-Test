/** Advanced iframe pro external workaround file . Created: 2022-05-23 16:19:28 */
var extendedDebug=!1,aiParent=window.parent;if(void 0===domain_advanced_iframe)var domain_advanced_iframe="//one.insight-tools.test/wp-content/plugins/advanced-iframe";function aiTrimExtraChars(e){return null==e?"":e.toString().replace(/^[\s:;]+|[\s:;]+$/g,"")}function aiDebugExtended(e){extendedDebug&&console&&console.log&&console.log("Advanced iframe: "+e)}function aiModifyIframe(){if(aiDebugExtended("calling aiModifyIframe"),!ia_already_done){if("true"===add_css_class_iframe){var e=window.location.toString();"/"===e.substr(-1)&&(e=e.substr(0,e.length-1));var i=e.lastIndexOf("/"),a=e.substring(i+1).replace(/[^A-Za-z0-9]/g,"-"),t=jQuery("body");t.addClass("ai-"+a),jQuery("#ai_wrapper_div").length?jQuery("#ai_wrapper_div").children("div").each(function(e){jQuery(this).addClass("ai-"+a+"-child-"+(e+1))}):t.children("div").each(function(e){jQuery(this).addClass("ai-"+a+"-child-"+(e+1))})}if(""!==iframe_hide_elements&&"false"===write_css_directly&&jQuery(iframe_hide_elements).css("display","none").css("width","0").css("height","0"),""!==onload_show_element_only&&aiShowElementOnly(onload_show_element_only),"false"===write_css_directly&&(""!==iframe_content_id||""!==iframe_content_styles)){var o=iframe_content_id.split("|"),r=iframe_content_styles.split("|");if(o.length!==r.length)return void alert("Configuration error: The attributes iframe_content_id and iframe_content_styles have to have the amount of value sets separated by |.");for(var n=0;n<o.length;++n)for(var d=aiTrimExtraChars(r[n]).split(";"),s=0;s<d.length;++s){var l=d[s].split(":");jQuery(o[n]).css(l[0],l[1])}}if(""===change_iframe_links||""===change_iframe_links_target&&""===change_iframe_links_href){if(""!==change_iframe_links_target||""!==change_iframe_links_href)return void alert("Configuration error: The attribute change_iframe_links has to have at least the same amount of values separated by | as change_iframe_links_target and change_iframe_links_href. Please read the documentation for details.")}else{var _=change_iframe_links.split("|"),f=change_iframe_links_target.split("|"),c=change_iframe_links_href.split("|");if(_.length<f.length&&_.length<c.length)return void alert("Configuration error: The attribute change_iframe_links has to have at least the same amount of values separated by | as change_iframe_links_target and change_iframe_links_href. Please read the documentation for details.");if(change_iframe_links.length>0)for(var m=0;m<_.length;++m)jQuery("body").on("mouseenter keydown",_[m],f[m],function(e){if("_blank"===e.data){var i=void 0===this.rel?"":this.rel.toLowerCase(),a=i.split(" ");-1===i.indexOf("noopener")&&a.push("noopener"),jQuery(this).attr("rel",a.join(" ").trim())}jQuery(this).attr("target",e.data)});if(change_iframe_links_href.length>0)for(var u=0;u<c.length;++u){var h=c[u].split("~");if(2!==h.length)return void alert("Configuration error: The attribute change_iframe_links_href has not the required ~ seperator set. Please read the documentation for details");jQuery("body").on("mouseenter keydown",_[u],h,function(e){var i=e.data;void 0===this.href||this.href.includes(i[1])||("append"===i[0]?this.href=this.href.concat(i[1]):this.href=this.href.replace(i[0],i[1]))})}}""!==scroll_to_top&&jQuery(document).on("click",scroll_to_top,function(){aiSendScrollToTop()}),ia_already_done=!0,modify_iframe_if_cookie&&aiSetCookie("aiIframeModifications","true")}}function aiShowElementOnly(e){if(aiDebugExtended("aiShowElementOnly"),-1===e.indexOf("|")){var i=jQuery("body"),a=i.find(e).clone(!0,!0);i.find("*").not(jQuery("script")).remove(),i.prepend(a)}else{var t=e.split("|")[0],o=jQuery(t);o.siblings().hide();var r=o.parents();r.siblings().hide(),r.css("padding","0px").css("margin","0px")}}function aiInitElementResize_advanced_iframe(){var e;(aiDebugExtended("aiInitElementResize_advanced_iframe"),""!==resize_on_element_resize)&&(!1===ia_resize_init_done_advanced_iframe&&(!function(e,i,a){function t(){o=i[d](function(){r.each(function(){var i=e(this),a=i.width(),t=i.height(),o=e.data(this,l);(o&&a!==o.w||t!==o.h)&&i.trigger(s,[o.w=a,o.h=t])}),t()},n[_])}var o,r=e([]),n=e.resize=e.extend(e.resize,{}),d="setTimeout",s="resize",l=s+"-special-event",_="delay",f="throttleWindow";n[_]=250,n[f]=!1,e.event.special[s]={setup:function(){if(!this.nodeName)return!1;if(!n[f]&&this[d])return!1;var i=e(this);r=r.add(i),e.data(this,l,{w:i.width(),h:i.height()}),1===r.length&&t()},teardown:function(){if(!n[f]&&this[d])return!1;var i=e(this);r=r.not(i),i.removeData(l),r.length||clearTimeout(o)},add:function(i){function t(i,t,r){var n=e(this),d=e.data(this,l);void 0!==d&&(d.w=t!==a?t:n.width(),d.h=r!==a?r:n.height()),o.apply(this,arguments)}return!(!n[f]&&this[d])&&(e.isFunction(i)?(o=i,t):(o=i.handler,void(i.handler=t)));var o}}}(jQuery,this),jQuery().resize||alert('jQuery.resize is not available. Most likely you have included jQuery AFTER the ai_external.js. Please include jQuery before the ai_external.js. If you cannot do this please disable "Resize on element resize"'),""!==resize_on_element_resize_delay&&parseInt(resize_on_element_resize_delay,10)>=50&&(jQuery.resize.delay=resize_on_element_resize_delay),0===(e="body"===resize_on_element_resize?jQuery("body"):jQuery("body").find(resize_on_element_resize)).length?console&&console.error&&console.error('Advanced iframe configuration error: The configuration of "resize_on_element_resize" is invalid. The specified element '+encodeURI(resize_on_element_resize)+" could not be found. Please check your configuration. If your content is loaded dynamically please specify onload_resize_delay with a time that is longer then your content needs to load!"):e.resize(function(){ia_already_done=!1,onload_resize_delay=10,aiExecuteWorkaround_advanced_iframe(!1)}),ia_resize_init_done_advanced_iframe=!0))}function aiExecuteWorkaround_advanced_iframe(e){aiDebugExtended("aiExecuteWorkaround_advanced_iframe"),e=void 0===e||e;var i=!1;if(modify_iframe_if_cookie&&(i="true"==aiGetCookie("aiIframeModifications")),window!==window.top){if(0===onload_resize_delay&&e&&(aiModifyIframe(),aiInitElementResize_advanced_iframe()),"true"===updateIframeHeight){var a,t=!0;if(!usePostMessage){a=domain_advanced_iframe+"/js/iframe_height.html";'about:blank">Iframes not supported.</iframe>';var o=aiCreate('<iframe id="ai_hidden_iframe_advanced_iframe" style="display:none;clear:both" width="0" height="0" src="about:blank">Iframes not supported.</iframe>');document.body.appendChild(o)}e&&(aiCreateAiWrapperDiv(),aiAddCss("body {margin:0px;padding:0px;overflow:hidden;}"));var r=0;if(0===onload_resize_delay){var n=aiGetWrapperElement(element_to_measure),d=Math.max(n.scrollHeight,n.offsetHeight);r=parseInt(d,10)+element_to_measure_offset,iframeWidth=aiGetIframeWidth(n)}if(-1===iframe_advanced_iframe_last_height||Math.abs(iframe_advanced_iframe_last_height-r)>=5)if(0===onload_resize_delay&&(r<10||r>1e4)&&(onload_resize_delay=500),0===onload_resize_delay){if(usePostMessage){var s=aiGetAnchorPosition(),l={aitype:"height",height:r+4,width:iframeWidth,id:iframe_id_advanced_iframe,anchor:s,data:{}};"remote"===add_iframe_url_as_param&&(l.loc=encodeURIComponent(window.location)),"remote"===use_iframe_title_for_parent&&(l.title=encodeURIComponent(document.title)),aiExtractAdditionalContent(dataPostMessage,l);var _=JSON.stringify(l);debugPostMessage&&console&&console.log&&console.log("Advanced iframe: postMessage sent: "+_+" - targetOrigin: "+post_message_domain),aiParent.postMessage(_,post_message_domain)}else{var f=document.getElementById("ai_hidden_iframe_advanced_iframe"),c="height="+(r+4)+"&width="+iframeWidth+"&id="+iframe_id_advanced_iframe;"remote"===add_iframe_url_as_param&&(c+="&loc="+encodeURIComponent(window.location)),"remote"===use_iframe_title_for_parent&&(c+="&title="+encodeURIComponent(document.title)),f.src=a+"?"+c}iframe_advanced_iframe_last_height=r}else t=!1,setTimeout(function(){aiResizeLater_advanced_iframe()},onload_resize_delay);if("false"===keepOverflowHidden){var m=onload_resize_delay+500;window.setTimeout(aiRemoveOverflowHidden,m)}"true"===enable_responsive_iframe&&e&&window.setTimeout(aiInitResize_advanced_iframe,onload_resize_delay+1e3),t&&(document.documentElement.style.visibility="visible")}else if("true"===hide_page_until_loaded_external){if(usePostMessage){var u={aitype:"show",id:iframe_id_advanced_iframe};aiExtractAdditionalContent(dataPostMessage,u);var h=JSON.stringify(u);debugPostMessage&&console&&console.log&&console.log("Advanced iframe: postMessage sent: "+h+" - targetOrigin: "+post_message_domain),aiParent.postMessage(h,post_message_domain)}else{var v='<iframe id="ai_hidden_iframe_show_advanced_iframe" style="display:none;" width="0" height="0" src="',g=aiCreate(v+=domain_advanced_iframe+"/js/iframe_show.html?id="+iframe_id_advanced_iframe+'">Iframes not supported.</iframe>');document.body.appendChild(g)}document.documentElement.style.visibility="visible"}else document.documentElement.style.visibility="visible";"true"===disable_right_click&&(document.oncontextmenu=function(){return!1})}else i&&(0===onload_resize_delay?(aiModifyIframe(),document.documentElement.style.visibility="visible"):setTimeout(function(){aiModifyIframe(),document.documentElement.style.visibility="visible"},onload_resize_delay))}function aiGetAnchorPosition(){if(window.location.hash)try{var e=jQuery(window.location.hash);if(0!==e.length)return Math.round(e.offset().top)}catch(e){return-1}return-1}function aiResizeLater_advanced_iframe(){aiDebugExtended("aiResizeLater_advanced_iframe"),0!==onload_resize_delay&&(aiModifyIframe(),aiInitElementResize_advanced_iframe());var e=domain_advanced_iframe+"/js/iframe_height.html",i=aiGetWrapperElement(element_to_measure),a=Math.max(i.scrollHeight,i.offsetHeight),t=parseInt(a,10)+element_to_measure_offset,o=aiGetIframeWidth(i);if(t>10){if(Math.abs(iframe_advanced_iframe_last_height-t)>=5){if(usePostMessage){var r=aiGetAnchorPosition(),n={aitype:"height",height:t+4,width:o,id:iframe_id_advanced_iframe,anchor:r,data:{}};"remote"===add_iframe_url_as_param&&(n.loc=encodeURIComponent(window.location)),"remote"===use_iframe_title_for_parent&&(n.title=encodeURIComponent(document.title)),aiExtractAdditionalContent(dataPostMessage,n);var d=JSON.stringify(n);debugPostMessage&&console&&console.log&&console.log("Advanced iframe: postMessage sent: "+d+" - targetOrigin: "+post_message_domain),aiParent.postMessage(d,post_message_domain)}else{var s=document.getElementById("ai_hidden_iframe_advanced_iframe"),l="height="+(t+4)+"&width="+o+"&id="+iframe_id_advanced_iframe;"remote"===add_iframe_url_as_param&&(l+="&loc="+encodeURIComponent(window.location)),"remote"===use_iframe_title_for_parent&&(l+="&title="+encodeURIComponent(document.title)),s.src=e+"?"+l}"true"===enable_responsive_iframe&&(o=aiGetIframeWidth(i)),iframe_advanced_iframe_last_height=t}}else debugPostMessage&&console&&console.error&&console.error('Advanced iframe configuration error: The height of the page cannot be detected with the current settings. Please check the documentation of "element_to_measure" how to define an alternative element to detect the height. Also you can try to add the style overflow:hidden to this element in your html or with the plugin dynamically. Hidden iframes can also not be measured by default. Make sure to use one of the solutions described in the documentation.');document.documentElement.style.visibility="visible"}function aiRemoveOverflowHidden(){document.body.style.overflow="auto"}function aiGetTextLength(e){return(e.textContent?e.textContent:"NO_TEXT").trim().length}function aiCreateAiWrapperDiv(){aiDebugExtended("aiCreateAiWrapperDiv");for(var e=0,i=0;i<document.body.childNodes.length;++i){var a=document.body.childNodes[i].nodeName.toLowerCase();0!==aiGetTextLength(document.body.childNodes[i])&&"script"!==a&&"iframe"!==a&&e++}var t=-1!==element_to_measure.indexOf("nowrapper");if(e>1&&!t){var o=document.createElement("div");for(o.id="ai_wrapper_div";document.body.firstChild;)o.appendChild(document.body.firstChild);document.body.appendChild(o),o.style.cssText="margin:0px;padding:0px;border: none;overflow: hidden;"+additional_styles_wrapper_div,0===element_to_measure.lastIndexOf("default",0)&&(element_to_measure="#"+o.id)}}function aiCreate(e){var i=document.createDocumentFragment(),a=document.createElement("div");for(a.innerHTML=e;a.firstChild;)i.appendChild(a.firstChild);return i}function aiGetIframeWidth(e){aiDebugExtended("aiGetIframeWidth");var i=null==e?aiGetWrapperElement(element_to_measure):e,a=Math.max(i.scrollWidth,i.offsetWidth),t=jQuery(i).css("width");if(void 0!==t&&!1!==t){var o=jQuery(i).css("max-width");void 0!==o&&"none"!==o||(a=t)}return parseInt(a,10)}function aiInitResize_advanced_iframe(){aiDebugExtended("aiInitResize_advanced_iframe"),jQuery(window).resize(function(){if("true"===enable_responsive_iframe){var e=aiGetIframeWidth(null);iframeWidth!==e&&(iframeWidth=e,"false"===keepOverflowHidden&&(document.body.style.overflow="hidden"),ia_already_done=!1,onload_resize_delay=10,aiExecuteWorkaround_advanced_iframe(!1),"false"===keepOverflowHidden&&window.setTimeout(aiResizeLater_advanced_iframe,500))}})}function aiSetCookie(e,i){document.cookie=e+"="+(i||"")+"; path=/;"+("https:"===document.location.protocol?" Secure; SameSite=None":"")}function aiGetCookie(e){for(var i=e+"=",a=document.cookie.split(";"),t=0;t<a.length;t++){for(var o=a[t];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(i))return o.substring(i.length,o.length)}return""}function aiAddCss(e){var i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(i)}function aiAddOnloadEvent(e){if(aiDebugExtended("aiAddOnloadEvent"),void 0!==window.addEventListener)window.addEventListener("load",e,!1);else if(void 0!==window.attachEvent)window.attachEvent("onload",e);else if(null!==window.onload){var i=window.onload;window.onload=function(a){i(a),window[e]()}}else window.onload=e;window.addEventListener("orientationchange",function(){onload_resize_delay=100,aiExecuteWorkaround_advanced_iframe(!1)},!1)}function aiGetUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null==i?"":new RegExp("^[a-zA-Z0-9_-]+$").test(i[1])?i[1]:""}function aiGetWrapperElement(e){var i;return null!=(i="default"===(e=e.split("|")[0])||""===e?document.body.children[0]:e.indexOf("#")>-1||e.indexOf(".")>-1?jQuery(e)[0]:document.getElementById(e))&&0!==i.length||(i=document.body.children[0],console&&console.error&&(null==i?console.error('Advanced iframe configuration error: The configuration of "element_to_measure" is invalid. The specified element '+encodeURI(e)+' could not be found. Please check your configuration. As fallback "default" is used which measures the first child of the body.'):(i=document.body,console.error("Advanced iframe configuration error: The body has no child elements. This means either your content is loaded dynamically and you need to increase onload_resize_delay or your html is somehow corrupt. Check if all elements are closed properly.")))),i.style.marginTop=i.style.marginBottom=0,i}function aiWriteCssDirectly(){aiDebugExtended("aiWriteCssDirectly");var e="";if(""!==iframe_hide_elements&&(e+=iframe_hide_elements+"{ display: none !important; width:0px; height:0px }"),""!==iframe_content_id||""!==iframe_content_styles){var i=iframe_content_id.split("|"),a=iframe_content_styles.split("|");if(i.length!==a.length)return void alert("Configuration error: The attributes iframe_content_id and iframe_content_styles have to have the amount of value sets separated by |.");for(var t=0;t<i.length;++t)e+=i[t]+"{",e+=aiTrimExtraChars(a[t]),e+="}"}if(""!==e){var o=document.createElement("style");o.innerHTML=e,document.head.appendChild(o)}}function aiLoadExternalConfig(e){aiDebugExtended("aiLoadExternalConfig");var i=document.getElementsByTagName("script"),a=i[i.length-1].src.replace(/^[^\?]+\??/,"");if(a&&"config_id"===a.substr(0,9)){console&&console.log&&console.log("Advanced iframe: Deprecated feature. Please use for the loading of a config which depends on an url parameter the config switcher template (ai_config_switcher_template.js) and include it directly into ai_external.js. This saves 2 additional requests where the config and ai_external.js is loaded again!");var t=a.substr(10);if(""!=t){return t.match(/^[\w\d_\-/$/]*$/)||alert("The value of config_id can only have alphanumeric characters, - and _."),void 0!==loadedConfig[t]||(document.write("<script src='"+e+"/../advanced-iframe-custom/ai_external_config_"+t+".js'><\/script>"),document.write("<script src='"+e+"/js/ai_external.js'><\/script>"),document.write("\n"),loadedConfig[t]="true",!1)}}return!0}function aiExtractAdditionalContent(e,i){if(""!==e)try{for(var a=e.split(","),t=0;t<a.length;++t){var o=aiTrimExtraChars(a[t]).split("|");i.data[o[0]]=jQuery(o[1]).html()}}catch(e){console&&console.error&&(console.error("Advanced iframe configuration error: dataPostMessage is set to an invalid value. Please check your configuration."),console.log(e))}}function aiSendScrollToTop(){var e={aitype:"scrollToTop",id:iframe_id_advanced_iframe},i=JSON.stringify(e);aiParent.postMessage(i,post_message_domain)}String.prototype.includes||(String.prototype.includes=function(e,i){return"number"!=typeof i&&(i=0),!(i+e.length>this.length)&&-1!==this.indexOf(e,i)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var safari_cookie_fix_value=aiGetUrlParameter("safari_cookie_fix");if(""!==safari_cookie_fix_value&&("true"==safari_cookie_fix_value?(document.documentElement.style.visibility="hidden",document.cookie="safari_cookie_fix=fixed; path=/; Secure; SameSite=None","fixed"!==aiGetCookie("safari_cookie_fix")&&("undefined"==typeof safari_cookie_fix_no_cookie_message&&(safari_cookie_fix_message="This website requires that cookies are accepted. Please change your browser settings to continue."),alert(safari_cookie_fix_message)),window.location.replace(document.referrer)):"message"==safari_cookie_fix_value&&"fixed"!==aiGetCookie("safari_cookie_fix")&&("undefined"==typeof safari_cookie_fix_message&&(safari_cookie_fix_message='This website requires that third-party cookies are accepted. Please change your browser settings that at least "from visited" cookies are allowed.'),alert(safari_cookie_fix_message))),"undefined"==typeof loadedConfigs)var loadedConfig={};var doIt=aiLoadExternalConfig(domain_advanced_iframe);if(doIt){var iframe_id_advanced_iframe;iframe_id_advanced_iframe="undefined"==typeof iframe_id?"advanced_iframe":iframe_id;var iframe_advanced_iframe_last_height=-1;if(void 0===iframe_url_id)var iframe_url_id="";if(void 0===domainMultisite)if("undefined"!=typeof aiExternalSettings&&aiExternalSettings.hasOwnProperty("domainMultisite"))var domainMultisite=aiExternalSettings.domainMultisite;else domainMultisite="true";if(void 0===post_message_domain){var post_message_domain="*",domainOrig=post_message_domain.split("/")[2];post_message_domain=document.location.protocol+domainOrig}if("true"===domainMultisite&&(post_message_domain="*"),void 0===usePostMessage)if("undefined"!=typeof aiExternalSettings&&aiExternalSettings.hasOwnProperty("usePostMessage"))var usePostMessage="1"===aiExternalSettings.usePostMessage;else usePostMessage=!0;if(void 0===debugPostMessage)var debugPostMessage=!1;if(void 0===dataPostMessage)var dataPostMessage="";if(""!==iframe_url_id){var value_id=aiGetUrlParameter(iframe_url_id);if(""===value_id){var errorText="Configuration error: The id cannot be found in the url at the configured parameter.";throw alert(errorText),errorText}iframe_id_advanced_iframe=value_id}if(void 0===updateIframeHeight)var updateIframeHeight="true";if(void 0===onload_resize_delay)var onload_resize_delay=0;if(void 0===keepOverflowHidden)var keepOverflowHidden="false";if(void 0===hide_page_until_loaded_external)var hide_page_until_loaded_external="false";if(void 0===iframe_hide_elements)var iframe_hide_elements="";if(void 0===onload_show_element_only)var onload_show_element_only="";if(void 0===iframe_content_id)var iframe_content_id="";if(void 0===iframe_content_styles)var iframe_content_styles="";if(void 0===change_iframe_links)var change_iframe_links="";if(void 0===change_iframe_links_target)var change_iframe_links_target="";if(void 0===change_iframe_links_href)var change_iframe_links_href="";if(void 0===additional_js_file_iframe)var additional_js_file_iframe="";if(void 0===additional_js_iframe)var additional_js_iframe="";if(void 0===additional_css_file_iframe)var additional_css_file_iframe="";if(void 0===iframe_redirect_url)var iframe_redirect_url="";if(void 0===enable_responsive_iframe)var enable_responsive_iframe="false";if(void 0===write_css_directly)var write_css_directly="false";if(void 0===resize_on_element_resize)var resize_on_element_resize="";if(void 0===resize_on_element_resize_delay)var resize_on_element_resize_delay="250";if(void 0===add_iframe_url_as_param)var add_iframe_url_as_param="false";if(void 0===use_iframe_title_for_parent)var use_iframe_title_for_parent="false";if(void 0===element_to_measure)var element_to_measure="default";if(void 0===element_to_measure_offset)var element_to_measure_offset=0;var modify_iframe_cookie_found=!1;if(void 0===modify_iframe_if_cookie)var modify_iframe_if_cookie=!1;if(void 0===additional_styles_wrapper_div)var additional_styles_wrapper_div="";if(void 0===add_css_class_iframe)var add_css_class_iframe="false";if(void 0===scroll_to_top)var scroll_to_top="";if(void 0===send_console_log){var send_console_log=!1;"true"!==aiGetUrlParameter("send_console_log")&&"true"!==aiGetCookie("debugAiExternal")||(send_console_log=!0),"false"===aiGetUrlParameter("send_console_log")&&(send_console_log=!1,document.cookie="debugAiExternal=; path=/; Secure; SameSite=None;expires=Thu, 01 Jan 1970 00:00:01 GMT"),send_console_log&&(extendedDebug=!0,debugPostMessage=!0,document.cookie="debugAiExternal=true; path=/; Secure; SameSite=None")}if(void 0===disable_right_click)var disable_right_click="false";if(void 0===jquery_path)var jquery_path="//one.insight-tools.test/wp-includes/js/jquery/jquery.js";var iframeWidth=0,ia_resize_init_done_advanced_iframe=!1;if(""!==iframe_redirect_url){var iframe_redirect_url_all=iframe_redirect_url.split("|"),iframe_redirect_url_first=iframe_redirect_url_all[0];if(""!==window.location.search&&-1===iframe_redirect_url.indexOf("?")&&(iframe_redirect_url_first+=window.location.search),window===window.top)location.replace(iframe_redirect_url_first);else{var ref=document.referrer;if(""!==ref){for(var currentDomain=window.location.hostname,invalid=!0,i=0;i<iframe_redirect_url_all.length;i++){var el=iframe_redirect_url_all[i],domainRedirect=el.split("/")[2],domainRef=ref.split("/")[2];if(domainRedirect===domainRef||domainRef===currentDomain){invalid=!1;break}}invalid&&top.location.replace(iframe_redirect_url_first)}else top.location.replace(iframe_redirect_url_first)}}window.jQuery||document.write('<script src="'+jquery_path+'"><\/script>'),"true"===enable_responsive_iframe&&(updateIframeHeight="true");var modificationCookieSet=!1;if(modify_iframe_if_cookie&&(modificationCookieSet="true"==aiGetCookie("aiIframeModifications")),void 0===ia_already_done){(window!==window.top||modificationCookieSet)&&(""===iframe_hide_elements&&""===onload_show_element_only&&""===iframe_content_id&&""===iframe_content_styles||document.documentElement&&"false"===write_css_directly&&(document.documentElement.style.visibility="hidden"));var ia_already_done=!1}if(aiAddOnloadEvent(aiExecuteWorkaround_advanced_iframe),"true"!==write_css_directly||window===window.top&&!modificationCookieSet||aiWriteCssDirectly(),""!==additional_css_file_iframe&&(window!==window.top||modificationCookieSet)){var link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=additional_css_file_iframe,document.getElementsByTagName("HEAD")[0].appendChild(link)}if(""!==additional_js_file_iframe&&(window!==window.top||modificationCookieSet)){var script=document.createElement("script");script.type="text/javascript",script.src=additional_js_file_iframe,document.getElementsByTagName("head")[0].appendChild(script)}if(""!==additional_js_iframe&&(window!==window.top||modificationCookieSet)){var aiScript=document.createElement("script");aiScript.innerHTML=additional_js_iframe,document.head.appendChild(aiScript)}usePostMessage&&send_console_log&&console&&console.log&&(console.defaultLog=console.log.bind(console),console.logs=[],console.log=function(){console.defaultLog.apply(console,arguments),console.logs.push(Array.from(arguments));var e={aitype:"debug",id:iframe_id_advanced_iframe,data:"LOG: "+[].map.call(arguments,JSON.stringify)},i=JSON.stringify(e);aiParent.postMessage(i,post_message_domain)},console.defaultWarn=console.warn.bind(console),console.warns=[],console.warn=function(){console.defaultWarn.apply(console,arguments),console.warns.push(Array.from(arguments));var e={aitype:"debug",id:iframe_id_advanced_iframe,data:"WARN: "+[].map.call(arguments,JSON.stringify)},i=JSON.stringify(e);aiParent.postMessage(i,post_message_domain)},console.defaultError=console.error.bind(console),console.errors=[],console.error=function(){console.defaultError.apply(console,arguments),console.errors.push(Array.from(arguments));var e={aitype:"debug",id:iframe_id_advanced_iframe,data:"ERROR: "+[].map.call(arguments,JSON.stringify)},i=JSON.stringify(e);aiParent.postMessage(i,post_message_domain)},window.onerror=function(e,i,a,t,o){var r={aitype:"debug",id:iframe_id_advanced_iframe,data:"ERROR: "+e+" - "+a+":"+t},n=JSON.stringify(r);return aiParent.postMessage(n,post_message_domain),!1})}